{% extends 'base.html.twig' %}

{% block nav %}
    {% include 'includes/navBar.html.twig' %}
{% endblock %}

{% block content %}
    <p>Boek hier een les</p>
    <div style="margin-top: 10px">
        <table class="table table-bordered">
            <thead>
                <td>Tijd</td>
                <td>Datum</td>
                <td>Locatie</td>
                <td>Acties</td>
            </thead>
            <tbody>
            {% for lesson in lessons %}
                <tr>
                    <td>{{ lesson.time|date('H:i') }}</td>
                    <td>{{ lesson.date|date('D M Y') }}</td>
                    <td>{{ lesson.location }}</td>
                    <td>
                        <div class="btn-group mr-2" role="group" aria-label="First group">
                            {% set booking = getBooking(lesson, app.user) %}
                            {% if booking is defined and booking is not null %}
                                Reservering status: {{ getBookingStatus(booking.paymentStatus) }}
                            {% else %}
                                <a href="{{ path('lessonBook', {'id':lesson.id}) }}" class="btn btn-secondary">Reserveren</a>
                            {% endif %}
                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}